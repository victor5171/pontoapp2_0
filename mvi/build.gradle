apply plugin: 'kotlin'

compileKotlin {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8

    kotlinOptions {
        freeCompilerArgs = [
            KotlinCompilerArgs.allowExperimentalCoroutinesApi,
            KotlinCompilerArgs.allowFlowPreview,
            KotlinCompilerArgs.allowResultReturnType,
            KotlinCompilerArgs.allowExperimentalStdlibApi,
            KotlinCompilerArgs.explicitApi,
            KotlinCompilerArgs.jvmDefault
        ]

        jvmTarget = JavaVersion.VERSION_1_8
    }
}

test {
    useJUnitPlatform()
    testLogging.showStandardStreams = true
}

compileTestKotlin {
    kotlinOptions.jvmTarget = JavaVersion.VERSION_1_8
}

dependencies {
    implementation Kotlin.stdLib
    implementation Kotlin.coroutinesCore
    implementation Android.lifecycleViewModelKtx
    implementation Android.lifecycleLiveDataKtx

    testImplementation project(Internals.tests_extensions)
    testImplementation Tests.mockk
    testImplementation Tests.kotestRunner
    testImplementation Kotlin.coroutinesTest
}