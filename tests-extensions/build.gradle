apply plugin: 'kotlin'

compileKotlin {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8

    kotlinOptions {
        freeCompilerArgs = [
            KotlinCompilerArgs.explicitApi,
            KotlinCompilerArgs.allowExperimentalCoroutinesApi
        ]

        jvmTarget = JavaVersion.VERSION_1_8
    }
}

test {
    useJUnitPlatform()
    testLogging.showStandardStreams = true
}

compileTestKotlin {
    kotlinOptions {
        freeCompilerArgs = [
                KotlinCompilerArgs.allowExperimentalCoroutinesApi
        ]

        jvmTarget = JavaVersion.VERSION_1_8
    }
}

dependencies {
    implementation project(Internals.extensions)

    implementation Kotlin.stdLib
    implementation Kotlin.coroutinesCore
    implementation Kotlin.coroutinesTest
    implementation Tests.kotestFrameworkJvm
    implementation Tests.mockk

    testImplementation Tests.kotestRunner
}